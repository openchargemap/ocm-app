import{a as ee}from"./chunk-RIAA6NQL.js";import{d as S,g as T,k as Q,m as X,y as Z}from"./chunk-QOS6BV6U.js";import{A as i,B as p,Bb as Y,Db as G,E as P,F as g,G as m,Ga as w,Ha as L,Hb as K,Ia as k,Ja as F,M as a,N as v,O as u,Oa as O,Sa as $,Ua as N,Va as D,Xa as V,Za as z,_a as B,aa as J,ba as E,ea as M,i as h,l as y,m as I,pb as q,q as n,qa as b,qb as H,r as f,s as C,sb as R,t as A,ua as j,ub as U,v as c,y as _,yb as W,z as o}from"./chunk-Q4PDWSI3.js";function ne(t,l){t&1&&(o(0,"p"),a(1," You have no journeys yet. Start by browsing to a charging location, then add it as Favourite to start a new Journey. "),i())}function oe(t,l){if(t&1&&(o(0,"p"),a(1),i()),t&2){let e=m(2).$implicit;n(),u(" ",e.Poi.AddressInfo.AddressLine1)}}function re(t,l){if(t&1&&(o(0,"p"),a(1),i()),t&2){let e=m(2).$implicit;n(),u(" ",e.Poi.AddressInfo.AddressLine2)}}function ae(t,l){if(t&1&&(o(0,"p"),a(1),i()),t&2){let e=m(2).$implicit;n(),u(" ",e.Poi.AddressInfo.Town)}}function se(t,l){if(t&1&&(o(0,"p"),a(1),i()),t&2){let e=m(2).$implicit;n(),u(" ",e.Poi.AddressInfo.StateOrProvince)}}function le(t,l){if(t&1&&(o(0,"p"),a(1),i()),t&2){let e=m(2).$implicit;n(),u(" ",e.Poi.AddressInfo.Postcode)}}function de(t,l){if(t&1){let e=P();o(0,"div")(1,"div",18),g("click",function(){y(e);let s=m().$implicit,d=m(4);return I(d.viewPOIDetails(s.Poi))}),c(2,oe,2,1,"p",4)(3,re,2,1,"p",4)(4,ae,2,1,"p",4)(5,se,2,1,"p",4)(6,le,2,1,"p",4),i(),o(7,"ion-button",19),g("click",function(){y(e);let s=m().$implicit,d=m(4);return I(d.launchNavigation(s.Poi))}),p(8,"ion-icon",20),a(9," Navigate "),i()()}if(t&2){let e=m().$implicit;n(2),_("ngIf",e.Poi.AddressInfo.AddressLine1),n(),_("ngIf",e.Poi.AddressInfo.AddressLine2),n(),_("ngIf",e.Poi.AddressInfo.Town),n(),_("ngIf",e.Poi.AddressInfo.StateOrProvince),n(),_("ngIf",e.Poi.AddressInfo.Postcode)}}function _e(t,l){if(t&1&&(o(0,"div",17),c(1,de,10,5,"div",4),i()),t&2){let e=l.$implicit;n(),_("ngIf",e.Poi)}}function me(t,l){if(t&1&&(o(0,"ion-item")(1,"h2"),a(2),i(),o(3,"ion-thumbnail",0),p(4,"ion-icon",15),i(),o(5,"p"),a(6),i(),c(7,_e,2,1,"div",16),i()),t&2){let e=l.$implicit;n(2),v(e.Title),n(4),v(e.Notes),n(),_("ngForOf",e.PoiList)}}function ce(t,l){if(t&1&&(o(0,"ion-list")(1,"ion-list-header",11),a(2),p(3,"ion-icon",12),a(4," -- "),p(5,"ion-icon",13),a(6," -- "),p(7,"ion-icon",14),a(8," -- "),i(),c(9,me,8,3,"ion-item",5),i()),t&2){let e=l.$implicit;n(2),u(" ",e.Title," "),n(7),_("ngForOf",e.WayPoints)}}function pe(t,l){if(t&1){let e=P();o(0,"ion-card")(1,"ion-card-content")(2,"ion-toolbar",8)(3,"ion-title"),a(4),i(),o(5,"ion-buttons",9)(6,"ion-button",1),g("click",function(){let s=y(e).$implicit,d=m();return I(d.deleteJourney(s.ID))}),p(7,"ion-icon",10),i()()(),o(8,"p"),a(9),i(),c(10,ce,10,2,"ion-list",5),i()()}if(t&2){let e=l.$implicit;n(4),u(" ",e.Title),n(5),v(e.Notes),n(),_("ngForOf",e.Stages)}}var te=(()=>{class t{appManager;journeyManager;api;modalController;alertController;constructor(e,r,s,d,x){this.appManager=e,this.journeyManager=r,this.api=s,this.modalController=d,this.alertController=x}dismiss(){this.modalController.dismiss()}discoverImages(){this.journeyManager.journeys.forEach(e=>{e.Stages.forEach(r=>{r.WayPoints.forEach(s=>{s.PoiList!=null&&s.PoiList.forEach(d=>{d.Poi&&this.api.getPanoramioLocationPhotos(new S(d.Poi.AddressInfo.Latitude,d.Poi.AddressInfo.Longitude)).then(x=>{d.Photos=x})})})})})}getJson(e){return JSON.stringify(e,null,4)}viewPOIDetails(e){this.modalController.create({component:ee,componentProps:{item:e}}).then(r=>r.present())}get staticMapSize(){return"60x60"}getStaticMapURL(e){return"https://maps.googleapis.com/maps/api/staticmap?center="+e.AddressInfo.Latitude+","+e.AddressInfo.Longitude+"&zoom=13&scale=2&size="+this.staticMapSize+"&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff0000%7Clabel:%7C"+e.AddressInfo.Latitude+","+e.AddressInfo.Longitude}deleteJourney(e){this.alertController.create({header:"Delete this Journey?",message:"Are you sure you want to delete this Journey?",buttons:[{text:"No",handler:()=>{}},{text:"Delete",handler:()=>{this.journeyManager.deleteJourney(e)}}]}).then(r=>r.present())}launchNavigation(e){let r="https://maps.google.com/?q="+e.AddressInfo.Latitude+","+e.AddressInfo.Longitude;this.appManager.platform.is("ios")&&(r="https://maps.apple.com?q="+e.AddressInfo.Latitude+","+e.AddressInfo.Longitude),window.open(r,"_system")}static \u0275fac=function(r){return new(r||t)(f(X),f(Q),f(T),f(Y),f(W))};static \u0275cmp=C({type:t,selectors:[["ng-component"]],standalone:!1,decls:18,vars:2,consts:[["slot","start"],[3,"click"],[1,"journeys-page"],[1,"ion-padding"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","end"],["name","close","slot","start"],["primary",""],["slot","primary"],["name","close","slot","icon-only"],[2,"font-size","1.5rem"],["name","car"],["name","time"],["name","flash"],["name","caret-down",2,"font-size","4rem"],["style","text-align:right;width:100%;",4,"ngFor","ngForOf"],[2,"text-align","right","width","100%"],["tappable","",3,"click"],["clear","","item-right","",3,"click"],["name","navigate","slot","start"]],template:function(r,s){r&1&&(o(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-back-button",1),g("click",function(){return s.dismiss()}),i()(),o(4,"ion-title"),a(5," Journeys "),i()()(),o(6,"ion-content",2)(7,"div",3)(8,"p"),a(9," You can create and plan journeys to group your favourite charging routes together. "),i(),c(10,ne,2,0,"p",4),i(),c(11,pe,11,3,"ion-card",5),i(),o(12,"ion-footer")(13,"ion-toolbar")(14,"ion-buttons",6)(15,"ion-button",1),g("click",function(){return s.dismiss()}),p(16,"ion-icon",7),a(17," Close "),i()()()()),r&2&&(n(10),_("ngIf",s.journeyManager.journeys==null||s.journeyManager.journeys.length==0),n(),_("ngForOf",s.journeyManager.journeys))},dependencies:[J,E,w,L,k,F,O,$,N,D,V,z,B,q,H,R,U],encapsulation:2})}return t})();var $e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=A({type:t});static \u0275inj=h({imports:[M,b,G,K,Z,j.forChild([{path:"",component:te}])]})}return t})();export{te as a,$e as b};
